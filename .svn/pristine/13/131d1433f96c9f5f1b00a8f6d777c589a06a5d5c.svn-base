package com.sendinfo.facestandard.linetake.module.adapter;

import android.content.Context;
import android.view.View;
import android.widget.ImageView;
import android.widget.TextView;

import com.bumptech.glide.Glide;
import com.chad.library.adapter.base.BaseQuickAdapter;
import com.chad.library.adapter.base.BaseViewHolder;
import com.sendinfo.facestandard.linetake.R;
import com.sendinfo.facestandard.linetake.bean.OrderM;
import com.sendinfo.facestandard.linetake.util.string.StringUtils;

import java.io.File;

import static com.sendinfo.facestandard.linetake.R.id.phone_tv;

/**
 * <pre>
 *     author : ghwang
 *     e-mail : 429329513@qq.com
 *     time   : 2018/06/22
 *     desc   :
 * </pre>
 */

public class OrderAdapter extends BaseQuickAdapter<OrderM,BaseViewHolder>{

    private Context context;
    public OrderAdapter(Context context, int resId){

        this(resId);
        this.context = context;
    }
    public OrderAdapter(int resId){
        super(resId);

    }
    @Override
    protected void convert(BaseViewHolder helper, OrderM item) {

        helper.setText(R.id.ticket_model_name_tv,item.getName());
        helper.setText(R.id.name_tv,"景点名称:"+item.getParkName());
        helper.setText(R.id.bar_code_tv,"条形码:"+item.getBarCode());
        helper.setText(R.id.certno_tv,"身份证:"+item.getCertNo());
        helper.setText(R.id.create_time_tv,"创建时间:"+item.getCreateTime());
        TextView commitTv = helper.getView(R.id.recommit_tv);
        helper.addOnClickListener(R.id.recommit_tv);

        File file = new File(item.getPicture());
        Glide.with(this.context).load(file).into((ImageView) helper.getView(R.id.photo));

        //新加人脸
        if (StringUtils.isEmpty(item.getVisitedId())){

            if (item.getStatus().equals(OrderM.WAITUPLOAD)){

                helper.setText(R.id.status_tv,"aibee数据未提交");
                commitTv.setVisibility(View.VISIBLE);


            }else if(item.getStatus().equals(OrderM.WAITUPDATENUMBER)){

                helper.setText(R.id.status_tv,"检票数同步失败");
                commitTv.setVisibility(View.VISIBLE);
            }
            else {

                helper.setText(R.id.status_tv,"已完成");
                commitTv.setVisibility(View.GONE);

            }

        }else {//修改人脸


            if (item.getStatus().equals(OrderM.WAITUPLOAD)){

                helper.setText(R.id.status_tv,"aibee数据未提交");
                commitTv.setVisibility(View.VISIBLE);

            }else {

                helper.setText(R.id.status_tv,"已完成");
                commitTv.setVisibility(View.GONE);


            }

        }

    }
}
